<?xml version="1.0" encoding="utf-8" ?>
<ParametersSchema>

  <commandLineSyntax>
    <commandToken title="команда" minOccurs="1" maxOccurs="1"/>
    <optionToken title="опция" minOccurs="0" maxOccurs="unbounded"
                 valueTitle="значение" prefix="-" valuePrefix="="/>
    <paramToken title="параметер" minOccurs="0" maxOccurs="unbounded"/>
  </commandLineSyntax>

  <defaults>
    <commandRef ref="cmdProgramDescription"/>
    <optionRef ref="optWait"/>
  </defaults>

  <commands>
    <command id="cmdProgramDescription" argName="logo">
      <description>
        Внимание! Программа <runtimeValue name="programName"/> использует обработчик командной строки по умолчанию.
        <br/>Необходимо определить собственный файл ParametersSchema.xml и указать его в конструкторе обработчика командной строки.
      </description>
      <usage>
        Формат командной строки:
        <br/><tab/><runtimeValue name="programName"/> <xsltValue name="commandLineSyntax"/>
        <br/>
        <br/>Для справки используйте:
        <br/><tab/><runtimeValue name="programName"/> <commandRef ref="cmdHelp"/>
      </usage>
    </command>

    <command id="cmdHelp" argName="help">
      <description>
        Выдает эту подсказку.
      </description>
      <usage>
        Для справки по командам:
        <br/><tab/><runtimeValue name="programName"/> <commandRef ref="cmdHelp"/> &lt;команда&gt;
        <br/>Список команд:
        <xsltValue name="commandsWithDescriptions"/>
      </usage>

      <paramRef ref="paramCommandName"/>
    </command>

    <command id="cmdReadLine" argName="readline">
      <description>
        Читает строку (используется значение времени ожидания по умолчанию).
      </description>
    </command>

    <command id="cmdReadLine5" argName="readline5">
      <description>
        Читает строку. В случае неготовности ожидает ввода.
      </description>
      <optionRef ref="optWait">
        <argValue>5</argValue>
        <description>Время ожидания по умолчанию установлено на 5 секунд.</description>
      </optionRef>
    </command>

  </commands>

  <options>
    <option id="optWait" argName="wait">
      <regexpTemplate>^([0-9])|([1-9]\d)|([1-2]\d\d)|(300)$</regexpTemplate>
      <argValue>0</argValue>
      <description>
        Задает время ожидания (в секундах) если операция не может быть выполнена сразу.
        Допустимые значения числовые в диапазоне от 0 до 300.
        По умолчанию 0 (т.е. выдает ошибку в случае неозможности выполнить операцию без ожидания).
      </description>
    </option>
  </options>

  <params>
    <param id="paramCommandName" argName="command">
      <regexpTemplate>^[\d\w]+$</regexpTemplate>
      <argValue>logo</argValue>
      <description>
        Имя команды.
      </description>
    </param>
  </params>
</ParametersSchema>
